<!doctype html>
<html lang="no">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- Canonical URL to prevent duplicate content -->
    <link rel="canonical" href="https://drommehusetditt.no" />
    
    <!-- Handle both www and non-www domains for social media -->
    <script>
      // Get current domain for dynamic meta tag generation
      const currentDomain = window.location.hostname;
      const isWWW = currentDomain === 'www.drommehusetditt.no';
      const baseDomain = 'drommehusetditt.no';
      
      // Update meta tags dynamically based on current domain
      function updateMetaTags() {
        const ogUrl = document.querySelector('meta[property="og:url"]');
        const ogImage = document.querySelector('meta[property="og:image"]');
        const ogImageSecure = document.querySelector('meta[property="og:image:secure_url"]');
        const ogImageUrl = document.querySelector('meta[property="og:image:url"]');
        const twitterUrl = document.querySelector('meta[property="twitter:url"]');
        const canonical = document.querySelector('link[rel="canonical"]');
        
        if (ogUrl) ogUrl.setAttribute('content', `https://${currentDomain}`);
        if (ogImage) ogImage.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png`);
        if (ogImageSecure) ogImageSecure.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png`);
        if (ogImageUrl) ogImageUrl.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png`);
        if (twitterUrl) twitterUrl.setAttribute('content', `https://${currentDomain}`);
        if (canonical) canonical.setAttribute('href', `https://${baseDomain}`);
      }
      
      // Update meta tags immediately
      updateMetaTags();
      
      // Redirect www to non-www after meta tags are updated
      if (isWWW) {
        setTimeout(() => {
          window.location.href = window.location.href.replace('www.drommehusetditt.no', 'drommehusetditt.no');
        }, 100);
      }
      
      // Force social media cache refresh by adding timestamp to image URLs
      function addCacheBuster() {
        const timestamp = Date.now();
        const ogImage = document.querySelector('meta[property="og:image"]');
        const ogImageSecure = document.querySelector('meta[property="og:image:secure_url"]');
        const ogImageUrl = document.querySelector('meta[property="og:image:url"]');
        
        if (ogImage) ogImage.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png?v=${timestamp}`);
        if (ogImageSecure) ogImageSecure.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png?v=${timestamp}`);
        if (ogImageUrl) ogImageUrl.setAttribute('content', `https://${currentDomain}/social-image-1200x630.png?v=${timestamp}`);
      }
      
      // Add cache buster after a short delay
      setTimeout(addCacheBuster, 50);
    </script>
    
    <!-- Primary Meta Tags -->
    <title>Drømme Huset AS - Bygg og Anlegg | Tømrer, Murer, Elektriker</title>
    <meta name="title" content="Drømme Huset AS - Bygg og Anlegg | Tømrer, Murer, Elektriker" />
    <meta name="description" content="Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge." />
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://drommehusetditt.no" />
    <meta property="og:title" content="Drømme Huset AS - Profesjonelle Bygg og Anleggstjenester i Drammen" />
    <meta property="og:description" content="Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge. Gratis konsultasjon og tilbud." />
    <meta property="og:image" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:alt" content="Drømme Huset AS - Profesjonelle bygg og anleggstjenester i Drammen, Lier, Svelvik og Holmestrand" />
    <meta property="og:site_name" content="Drømme Huset AS" />
    <meta property="og:locale" content="nb_NO" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:secure_url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    
    <!-- Additional social media optimizations -->
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Drømme Huset AS - Profesjonelle bygg og anleggstjenester i Drammen, Lier, Svelvik og Holmestrand" />
    <meta property="og:site_name" content="Drømme Huset AS" />
    <meta property="og:updated_time" content="2024-12-19T00:00:00Z" />
    
    <!-- Domain-specific social media tags -->
    <meta property="og:url" content="https://drommehusetditt.no" />
    <meta property="og:image" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:secure_url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    
    <!-- Additional Open Graph tags for better compatibility -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Drømme Huset AS - Profesjonelle Bygg og Anleggstjenester i Drammen" />
    <meta property="og:description" content="Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge. Gratis konsultasjon og tilbud." />
    
    <!-- Force social media platforms to recognize both domains -->
    <meta property="og:url" content="https://drommehusetditt.no" />
    <meta property="og:image" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:secure_url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    
    <!-- WhatsApp specific optimizations -->
    <meta property="og:image:secure_url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:updated_time" content="2024-12-19T00:00:00Z" />
    <meta property="og:image:url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    
    <!-- Facebook specific optimizations -->
    <meta property="fb:app_id" content="your-facebook-app-id" />
    <meta property="fb:pages" content="your-facebook-page-id" />
    
    <!-- Additional WhatsApp and social media optimizations -->
    <meta name="twitter:app:country" content="NO" />
    <meta name="twitter:app:name:iphone" content="Drømme Huset AS" />
    <meta name="twitter:app:name:ipad" content="Drømme Huset AS" />
    <meta name="twitter:app:name:googleplay" content="Drømme Huset AS" />
    
    <!-- LinkedIn specific -->
    <meta property="og:image:secure_url" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="og:image:type" content="image/png" />
    
    <!-- Pinterest specific -->
    <meta name="pinterest-rich-pin" content="true" />
    <meta name="pinterest:description" content="Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge." />
    
    <!-- Additional social media platforms -->
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Drømme Huset AS" />
    <meta name="copyright" content="Drømme Huset AS" />
    
    <!-- Domain verification and social media compatibility -->
    <meta name="twitter:domain_verification" content="your-twitter-verification" />
    <meta name="facebook-domain-verification" content="your-facebook-verification" />
    <meta name="google-site-verification" content="your-google-verification-code" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://drommehusetditt.no" />
    <meta property="twitter:title" content="Drømme Huset AS - Profesjonelle Bygg og Anleggstjenester i Drammen" />
    <meta property="twitter:description" content="Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge. Gratis konsultasjon og tilbud." />
    <meta property="twitter:image" content="https://drommehusetditt.no/social-image-1200x630.png" />
    <meta property="twitter:image:alt" content="Drømme Huset AS - Profesjonelle bygg og anleggstjenester i Drammen, Lier, Svelvik og Holmestrand" />
    <meta property="twitter:site" content="@drommehusetditt" />
    <meta property="twitter:creator" content="@drommehusetditt" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#1E3A8A" />
    <meta name="msapplication-TileColor" content="#1E3A8A" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Drømme Huset AS" />
    
    <!-- Enhanced SEO Meta Tags -->
    <meta name="google-site-verification" content="your-google-verification-code" />
    <meta name="msvalidate.01" content="your-bing-verification-code" />
    <meta name="yandex-verification" content="your-yandex-verification-code" />
    <meta name="pinterest-site-verification" content="your-pinterest-verification-code" />
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="NO-06" />
    <meta name="geo.placename" content="Drammen" />
    <meta name="geo.position" content="59.7440;10.2045" />
    <meta name="ICBM" content="59.7440, 10.2045" />
    
    <!-- Business Information -->
    <meta name="business:contact_data:street_address" content="Jonas Lies vei 43" />
    <meta name="business:contact_data:locality" content="Drammen" />
    <meta name="business:contact_data:postal_code" content="3022" />
    <meta name="business:contact_data:country_name" content="Norway" />
    <meta name="business:contact_data:phone_number" content="+4747294697" />
    <meta name="business:contact_data:email" content="drammenbygg@gmail.com" />
    
    <!-- Preload critical resources for instant loading -->
    <link rel="preload" href="/logo.png" as="image" />
    <link rel="preload" href="/hero.avif" as="image" />
    <link rel="preload" href="/social-image-1200x630.png" as="image" />
    <link rel="preload" href="/images/tomrer/main.avif" as="image" />
    <link rel="preload" href="/images/vatrom/main.avif" as="image" />
    
    <!-- DNS prefetch for social media platforms -->
    <link rel="dns-prefetch" href="//www.facebook.com" />
    <link rel="dns-prefetch" href="//www.twitter.com" />
    <link rel="dns-prefetch" href="//www.linkedin.com" />
    <link rel="dns-prefetch" href="//www.whatsapp.com" />
    <link rel="dns-prefetch" href="//images.pexels.com" />
    <link rel="dns-prefetch" href="//images.unsplash.com" />
    <link rel="dns-prefetch" href="//www.google.com" />
    <link rel="dns-prefetch" href="//maps.googleapis.com" />
    <link rel="dns-prefetch" href="//www.facebook.com" />
    
    <!-- Core Web Vitals optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Performance optimizations for instant loading -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    
    <!-- Structured Data for Social Media -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Drømme Huset AS",
      "description": "Drømme Huset AS leverer profesjonelle bygg og anleggstjenester. Tømrer, murer, elektriker, rørlegger og mer. Over 25 års erfaring i Norge.",
      "url": "https://drommehusetditt.no",
      "logo": "https://drommehusetditt.no/logo.png",
      "image": "https://drommehusetditt.no/social-image-1200x630.png",
      "telephone": "+4747294697",
      "email": "drammenbygg@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Jonas Lies vei 43",
        "addressLocality": "Drammen",
        "postalCode": "3022",
        "addressCountry": "NO"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 59.7440,
        "longitude": 10.2045
      },
      "openingHours": "Mo-Fr 08:00-17:00",
      "priceRange": "$$",
      "currenciesAccepted": "NOK",
      "paymentAccepted": "Cash, Credit Card, Bank Transfer",
      "areaServed": ["Drammen", "Lier", "Svelvik", "Holmestrand", "Oslo", "Sandvika", "Asker", "Tonsberg", "Kongsberg", "Hoksund", "Baerum"],
      "serviceArea": {
        "@type": "GeoCircle",
        "geoMidpoint": {
          "@type": "GeoCoordinates",
          "latitude": 59.7440,
          "longitude": 10.2045
        },
        "geoRadius": "100000"
      }
    }
    </script>
    
    <!-- Performance monitoring and optimizations -->
    <script>
      // Core Web Vitals monitoring
      function sendToAnalytics(metric) {
        console.log('Core Web Vital:', metric);
        // In production, send to your analytics service
      }
      
      // Performance optimizations
      document.addEventListener('DOMContentLoaded', function() {
        // Optimize scrolling performance
        let ticking = false;
        function updateScroll() {
          if (!ticking) {
            requestAnimationFrame(function() {
              // Handle scroll-based animations here
              ticking = false;
            });
            ticking = true;
          }
        }
        
        // Use passive listeners for better scroll performance
        window.addEventListener('scroll', updateScroll, { passive: true });
        window.addEventListener('resize', updateScroll, { passive: true });
        
        // Preload critical images
        const criticalImages = [
          '/logo.png',
          '/hero.avif',
          '/social-image-1200x630.png'
        ];
        
        criticalImages.forEach(src => {
          const link = document.createElement('link');
          link.rel = 'preload';
          link.as = 'image';
          link.href = src;
          document.head.appendChild(link);
        });
      });
      
      // LCP monitoring
      new PerformanceObserver((entryList) => {
        for (const entry of entryList.getEntries()) {
          if (entry.entryType === 'largest-contentful-paint') {
            sendToAnalytics({ name: 'LCP', value: entry.startTime });
          }
        }
      }).observe({ entryTypes: ['largest-contentful-paint'] });
      
      // FID monitoring
      new PerformanceObserver((entryList) => {
        for (const entry of entryList.getEntries()) {
          if (entry.entryType === 'first-input') {
            sendToAnalytics({ name: 'FID', value: entry.processingStart - entry.startTime });
          }
        }
      }).observe({ entryTypes: ['first-input'] });
      
      // CLS monitoring
      let clsValue = 0;
      new PerformanceObserver((entryList) => {
        for (const entry of entryList.getEntries()) {
          if (!entry.hadRecentInput) {
            clsValue += entry.value;
            sendToAnalytics({ name: 'CLS', value: clsValue });
          }
        }
      }).observe({ entryTypes: ['layout-shift'] });
    </script>
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/logo.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/logo.png" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/logo.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/logo.png" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
